const t=Symbol("__run__"),e=Symbol("__root__"),r=Symbol("__render__"),o=Symbol("__state__"),n=Symbol("__store__"),s={enumerable:!1,configurable:!1,writable:!1};function i(t,e=n,r){return t.reflector=r||this.requestUpdate.bind(this),Object.defineProperty(this,e,{...s,value:t}),!0}function c(t,e=o,r){const n=this,i=new Proxy({...t},{get(t,e){const r=t[e];if(r)return r.value},set(t,e,o){const s=t[e];if(s&&s.value!==o){if(s.type&&typeof o!=typeof s.type())throw new Error(`Wrong type of propery "${e}".`);return s.value=o,"function"==typeof r?r(o,e):n.requestUpdate&&n.requestUpdate(o,e),!0}return!1}});Object.defineProperty(this,e,{...s,value:i})}class u extends HTMLElement{static define(t,e,r=!1){return window.customElements.get(t)?r&&Array.from(document.querySelectorAll(t)).forEach(t=>{Object.setPrototypeOf(t,e.prototype),t.requestUpdate&&t.requestUpdate()}):window.customElements.define(t,e),e}static get mode(){return"open"}static set render(t){"function"==typeof t&&(this[r]=t)}get state(){return this[o]||null}get store(){return this[n]||null}constructor(...o){super(o);const{state:n,mode:s,mixins:a,store:d}=this.constructor;if("function"!=typeof this.constructor[r])throw new Error('Renderer is undefined. For example set "lit-html" render function');s&&"string"==typeof s&&(this[e]=this.attachShadow({mode:s})),n&&"object"==typeof n&&c.call(this,n),d&&"object"==typeof d&&i.call(this,d),Array.isArray(a)&&a.forEach(t=>t.created&&t.created.apply(this,o)),u[t](["created"],this)}static[t](t,e,r){t.forEach(t=>e[t]&&"function"==typeof e[t]&&e[t].apply(e,r))}connectedCallback(){const{mixins:e}=this.constructor;Array.isArray(e)&&e.forEach(t=>t.mounted&&t.mounted.call(this)),u[t](["mounted","requestUpdate"],this)}disconnectedCallback(){const{mixins:e}=this.constructor;Array.isArray(e)&&e.forEach(t=>t.unmounted&&t.unmounted.call(this)),u[t](["unmounted","requestUpdate"],this)}requestUpdate(){const t=this.shadowRoot||this[e]||this,o=this.constructor[r];return new Promise((e,r)=>{this.render?e(o(this.render(),t,{eventContext:this})):r(new Error("Render method is missing"))})}}export default u;export{o as __state__,n as __store__,i as attachStore,c as createState};
//# sourceMappingURL=component.esm.js.map
