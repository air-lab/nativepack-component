"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const t=Symbol("__run__"),e=Symbol("__root__"),r=Symbol("__render__"),o=/^(\w+)-(\w+)$/,s=Symbol("validate"),n=Symbol("check"),i=Symbol("init"),a=Symbol("__state__"),c=Symbol("__store__"),u={enumerable:!1,configurable:!1,writable:!1};function d(t){return t&&"function"==typeof t}function l(t,e=c,r){return t.reflector=r||this.requestUpdate.bind(this),Object.defineProperty(this,e,{...u,value:t}),!0}function h(t,e=a,r){const o=this,s=new Proxy({...t},{get(t,e){const r=t[e];if("object"==typeof r&&Object.prototype.hasOwnProperty.call(r,"value"))return r.value},deleteProperty:(t,e)=>(delete t[e],o.requestUpdate(void 0,e),!0),set(t,e,s){const n=t[e];if("object"==typeof n&&(i=n.value,a=s,!Object.is(i,a)&&!(d(i)&&d(a)?i.toString()===a.toString():Object.is(JSON.stringify(i),JSON.stringify(a))))){if(n.type&&typeof s!=typeof n.type())throw new TypeError(`Wrong type of propery "${e}".`);return n.value=s,"function"==typeof r?r(s,e):o.requestUpdate&&o.requestUpdate(s,e),!0}var i,a;return!1}});Object.defineProperty(this,e,{...u,value:s})}function p(){const t=this;Object.defineProperty(t,"ref",{...u,value:new Proxy({},{get:(r,o)=>t[e].querySelector('[ref="'+o+'"]')})})}class y extends HTMLElement{static get mode(){}static set render(t){"function"==typeof t&&(this[r]=t)}get state(){return this[a]||null}get store(){return this[c]||null}get root(){return this[e]}constructor(...e){super(e);const{state:r}=this.constructor;this[n](),this[s](r),this[i](...e),y[t](["created"],this)}static mount(t=document.body,e=!0){if(!(t instanceof HTMLElement&&t.insertAdjacentHTML&&this.tagName))throw new Error("Static property tagName is required");e&&document.querySelector(this.tagName)||t.insertAdjacentHTML("beforeend",`<${this.tagName} />`)}static define(){const t=this.tagName;if(!o.test(t))throw new Error("Static property tagName is required");return window.customElements.get(t)?module&&module.hot&&module.hot.status&&"apply"===module.hot.status()&&Array.from(document.querySelectorAll(t)).forEach(t=>{Object.setPrototypeOf(t,this.prototype),t.requestUpdate&&t.requestUpdate()}):window.customElements.define(t,this),this}static[t](t,e,r){t.forEach(t=>e[t]&&"function"==typeof e[t]&&e[t].apply(e,r))}[n](){const{mode:t,tagName:s}=this.constructor;if(!o.test(s))throw new Error("Static property tagName is required");"function"!=typeof this.constructor[r]&&console.warn('Renderer is undefined. For example you can use "lit-html" render function'),["open","closed"].includes(t)&&(this[e]=this.attachShadow({mode:t}))}[i](...t){const{state:e,store:r,mixins:o}=this.constructor;p.call(this),e&&"object"==typeof e&&h.call(this,e),r&&"object"==typeof r&&l.call(this,r),Array.isArray(o)&&o.forEach(e=>e.created&&e.created.apply(this,t))}[s](t={}){if(!t)return;const e=Object.keys(t);for(const r of e){const e=t[r];if(e.type&&typeof e.value!=typeof e.type())throw new TypeError(`Wrong type of propery "${r}".`)}}adoptedCallback(){const{mixins:e}=this.constructor;Array.isArray(e)&&e.forEach(t=>t.moved&&t.moved.call(this)),y[t](["moved","requestUpdate"],this)}connectedCallback(){const{mixins:e}=this.constructor;Array.isArray(e)&&e.forEach(t=>t.mounted&&t.mounted.call(this)),y[t](["mounted","requestUpdate"],this)}attributeChangedCallback(...e){y[t](["requestUpdate"],this),d(this.updated)&&this.updated(...e)}disconnectedCallback(){const{mixins:e}=this.constructor;Array.isArray(e)&&e.forEach(t=>t.unmounted&&t.unmounted.call(this)),y[t](["unmounted"],this)}async requestUpdate(){const e=this.shadowRoot||this.root||this,o=this.constructor[r];await y[t](["beforeUpdate"],this);const s=await this.render();o?await o(s,e,{eventContext:this}):"string"==typeof s&&(e.innerHTML=s),y[t](["afterUpdate"],this)}}exports.__state__=a,exports.__store__=c,exports.attachStore=l,exports.createState=h,exports.default=y;
//# sourceMappingURL=component.cjs.js.map
